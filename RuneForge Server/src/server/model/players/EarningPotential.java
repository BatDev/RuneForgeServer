package server.model.players;

import server.Server;
import server.util.Misc;

public class EarningPotential {

		private static int[][] xEP = {{995,50000},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{564,250},{554,250},{555,250},{556,250},{557,250},{558,250},{559,250},{560,250},{561,250},{562,250},{563,250},{565,250},{566,250},{892,50}}; //NoobDrop EP less than 25
		private static int[][] xLP = {{995,100000},{11212,15},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{564,250},{554,250},{555,250},{556,250},{557,250},{558,250},{995,300000},{559,250},{560,250},{561,250},{562,250},{563,250},{995,300000},{565,250},{566,250},{892,50}}; //LowDrop EP 25-40
		private static int[][] xMP = {{995,150000},{11212,15},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{564,250},{554,250},{555,250},{556,250},{557,250},{558,250},{995,300000},{559,250},{560,250},{561,250},{562,250},{563,250},{995,300000},{565,250},{566,250},{892,50},{995,300000},{1080, 2},{1094,2},{1136,2},{1149,1},{1201,2},{1215,1},{1249,1},{1275,1},{995,300000},{1319,1},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{1377,1},{995,300000},{1434,1},{1514,250},{2325,1},{995,300000},{2323,1},{2364,50},{2503,1},{995,300000},{2615,1},{2617,1},{2623,1},{2625,1},{995,300000},{2653,1},{2655,1},{2661,1},{2663,1},{2669,1},{2671,1},{995,300000},{3140,1},{3204,1},{4151,1},{537,200},{6916,1},{6918,1},{6920,1},{6922,1},{6924,1},{558,250},{559,250},{560,250},{561,250},{562,250},{563,250},{565,250},{566,250},{892,50}}; //MedDrop EP 41-60
		private static int[][] xXP = {{995,250000},{11212,15},{564,250},{554,250},{555,250},{556,250},{557,250},{558,250},{995,300000},{559,250},{560,250},{561,250},{562,250},{563,250},{995,300000},{565,250},{566,250},{892,50},{995,300000},{1080, 2},{1094,2},{1136,2},{1149,1},{1201,2},{1215,1},{1249,1},{1275,1},{995,300000},{995,1500000},{1319,1},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{995,1500000},{1149,1},{1377,1},{995,300000},{1434,1},{1514,250},{2325,1},{995,300000},{2323,1},{2364,50},{2503,1},{995,300000},{2615,1},{2617,1},{2623,1},{2625,1},{995,300000},{2653,1},{2655,1},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{2661,1},{2663,1},{2669,1},{558,250},{995,300000},{559,250},{560,250},{561,250},{562,250},{995,1500000},{563,250},{565,250},{566,250},{892,50},{2671,1},{3140,1},{3204,1},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{4151,1},{537,200},{6916,1},{6918,1},{6920,1},{6922,1},{6924,1},{995,300000},{9243,150},{9244,150},{995,1500000},{9245,150},{9242,150},{6914,1},{7386,1},{7388,1},{7390,1},{7392,1},{995,300000},{995,1500000},{1052,1},{10887,1},{995,300000},{11235,1},{558,250},{559,250},{560,250},{561,250},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{9243,150},{9244,150},{9245,150},{9242,150},{1149,1},{562,250},{563,250},{565,250},{995,300000},{566,250},{892,50},{6889,1},{995,300000},{7370,1},{7374,1},{7378,1},{995,300000},{7382,1},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{995,1500000},{1093,1},{1149,1},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{9243,150},{9244,150},{9245,150},{9242,150},{11732,1}}; //LargeDrop EP 61-80
		private static int[][] xSP = {{995,300000},{11212,15},{564,250},{554,250},{555,250},{556,250},{557,250},{558,250},{995,300000},{559,250},{560,250},{561,250},{562,250},{563,250},{995,300000},{565,250},{566,250},{892,50},{995,300000},{1080, 2},{1094,2},{1136,2},{1149,1},{1201,2},{1215,1},{1249,1},{1275,1},{995,1500000},{995,300000},{1319,1},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{1377,1},{995,300000},{1434,1},{1514,250},{2325,1},{995,300000},{2323,1},{2364,50},{2503,1},{995,300000},{2615,1},{2617,1},{2623,1},{2625,1},{995,300000},{2653,1},{2655,1},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{2661,1},{2663,1},{2669,1},{558,250},{995,300000},{559,250},{560,250},{995,1500000},{561,250},{562,250},{563,250},{565,250},{566,250},{892,50},{2671,1},{3140,1},{3204,1},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{4151,1},{537,200},{6916,1},{6918,1},{6920,1},{6922,1},{6924,1},{995,300000},{6914,1},{7386,1},{7388,1},{7390,1},{7392,1},{9243,150},{9244,150},{9245,150},{9242,150},{995,300000},{1052,1},{10887,1},{995,300000},{11235,1},{558,250},{559,250},{560,250},{561,250},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{562,250},{563,250},{565,250},{9243,150},{9244,150},{9245,150},{9242,150},{995,300000},{566,250},{892,50},{11710,1},{11712,1},{564,250},{995,1500000},{995,300000},{995,300000},{554,250},{555,250},{995,300000},{556,250},{557,250},{995,300000},{558,250},{559,250},{995,300000},{560,250},{11714,1},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{995,300000},{11716,1},{11730,1},{6889,1},{7370,1},{9243,150},{9244,150},{9245,150},{9242,150},{995,300000},{7374,1},{995,300000},{7378,1},{995,300000},{7382,1},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{995,300000},{7370,1},{7374,1},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{7378,1},{995,300000},{9243,150},{9244,150},{9245,150},{9242,150},{7382,1},{9244,150},{9243,150},{9244,150},{9245,150},{9242,150},{995,1500000},{14497,1},{14499,1},{14501,1},{14490,1},{14492,1},{995,50000},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{14494,1},{14472,1},{14474,1},{14476,1},{995,50000},{1127,1},{1201,1},{1305,1},{1303,1},{1079,1},{1093,1},{1149,1},{11732,1}}; //FinalDrop EP 81-100

	public static void checkPotential(Client c) {
		if (c.inWild()) {
			if (++c.epDelay == 200) {
			if(c.getItems().getCarriedWealth() > 300000 || c.getPA().getWearingAmount2() > 200000) {
				c.earningPotential += 13 + Misc.random(12);
				if (c.earningPotential > 100) 
					c.earningPotential = 100;
				c.sendMessage("Your EP increases to: " + c.earningPotential + ".");
				} else {
				c.sendMessage("You must risk more than 300K to increase your EP!");
				}
				c.epDelay = 0;
			}
		}
	}
	
	public static void checkTeleport(Client c) {
		if (c.inWild())
			if (c.underAttackBy > 0) {
				c.earningPotential -= 10 + Misc.random(5);
				c.sendMessage("You now have "+c.earningPotential+" EP since you teleported in combat!");
				if (c.earningPotential < 0)
					c.earningPotential = 0;
		}
	}
	
	public static void giveBonusDrops(Client c, Client c2) {
            if (c.inWild() && c2.inWild()) {
			if (c.earningPotential > 1 && c.earningPotential < 25) { //NOOB
			c.earningPotential -= 12 + Misc.random(4);
			int random = (int)(Math.random() * (xEP.length - 1));
			Server.itemHandler.createGroundItem(c, xEP[random][0], c2.absX, c2.absY, 
			xEP[random][1], c.playerId);
			c.sendMessage("Your EP decreased to: "+c.earningPotential+".");
			if(c.earningPotential < 0)
			c.earningPotential = 0;
			} else
			if (c.earningPotential >= 25 && c.earningPotential < 40) { //LOW
			c.earningPotential -= 18 + Misc.random(4);
			int random = (int)(Math.random() * (xLP.length - 1));
			Server.itemHandler.createGroundItem(c, xLP[random][0], c2.absX, c2.absY, 
			xLP[random][1], c.playerId);
			c.sendMessage("Your EP decreased to: "+c.earningPotential+".");
			if(c.earningPotential < 0)
			c.earningPotential = 0;
			} else
			if (c.earningPotential >= 40 && c.earningPotential < 60) { //MEDIUM
			c.earningPotential -= 23 + Misc.random(4);
			int random = (int)(Math.random() * (xMP.length - 1));
			Server.itemHandler.createGroundItem(c, xMP[random][0], c2.absX, c2.absY, 
			xMP[random][1], c.playerId);
			c.sendMessage("Your EP decreased to: "+c.earningPotential+".");
			if(c.earningPotential < 0)
			c.earningPotential = 0;
			} else
			if (c.earningPotential >= 60 && c.earningPotential < 80) { //LARGE
			c.earningPotential -= 28 + Misc.random(4);
			int random = (int)(Math.random() * (xXP.length - 1));
			Server.itemHandler.createGroundItem(c, xXP[random][0], c2.absX, c2.absY, 
			xXP[random][1], c.playerId);
			c.sendMessage("Your EP decreased to: "+c.earningPotential+".");
			if(c.earningPotential < 0)
			c.earningPotential = 0;
			} else
			if (c.earningPotential >= 80 && c.earningPotential <= 100) { //FINAL
			c.earningPotential -= 35 + Misc.random(4);
			int random = (int)(Math.random() * (xSP.length - 1));
			Server.itemHandler.createGroundItem(c, xSP[random][0], c2.absX, c2.absY, 
			xSP[random][1], c.playerId);
			c.sendMessage("Your EP decreased to: "+c.earningPotential+".");
			if(c.earningPotential < 0)
			c.earningPotential = 0;
				}
			}
		}
	}	
